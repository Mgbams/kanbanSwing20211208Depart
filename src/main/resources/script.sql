create sequence hibernate_sequence start with 1 increment by 1;
create table client (id bigint generated by default as identity, nom varchar(255), ville_id bigint, primary key (id));
create table colonne (id bigint generated by default as identity, nom varchar(255), primary key (id));
create table developpeur (id bigint generated by default as identity, date_naissance date, email varchar(255), nom varchar(255), numero_carte_bleue varchar(255), prenom varchar(255), primary key (id));
create table projet (id bigint generated by default as identity, code varchar(3) not null, date_heure_creation timestamp, date_heure_livraison timestamp, nom varchar(255) not null, client_id bigint, primary key (id));
create table projet_developpeurs (projets_id bigint not null, developpeurs_id bigint not null);
create table tache (id bigint not null, date_creation date, intitule varchar(255), nb_heures_estimees integer not null check (nb_heures_estimees<=100 AND nb_heures_estimees>=1), nb_heures_reelles integer ;not null, colonne_id bigint not null, projet_id bigint, type_tache_id bigint, primary key (id));
create table tache_developpeurs (taches_id bigint not null, developpeurs_id bigint not null);
create table type_tache (id bigint generated by default as identity, couleur varchar(255), description clob, nom varchar(50), primary key (id));
create table ville (id bigint generated by default as identity, code_postal varchar(255), nom varchar(255), primary key (id));
alter table projet add constraint UK_n8ehv6xy5lwd1whvq98diumlf unique (code);
alter table client add constraint FKacdpdqoo2kra7incvinascg7 foreign key (ville_id) references ville;
alter table projet add constraint FKocfbp78fn7nchnfacacpyvhp8 foreign key (client_id) references client;
alter table projet_developpeurs add constraint FKr6dduuhn87e6166jjjawekai8 foreign key (developpeurs_id) references developpeur;
alter table projet_developpeurs add constraint FKlvjbq3026ailgophqb4qj7231 foreign key (projets_id) references projet;
alter table tache add constraint FKmuat2tmhx8uf8dy9i2gbvbs8t foreign key (colonne_id) references colonne;
alter table tache add constraint FKf97vcdrmyltn9s75dgh2tlw70 foreign key (projet_id) references projet;
alter table tache add constraint FKg2pfcgqj0f01x5d39c0xt9rmi foreign key (type_tache_id) references type_tache;
alter table tache_developpeurs add constraint FK7nl7aaugw3dpdcuosd1eapm2s foreign key (developpeurs_id) references developpeur;
alter table tache_developpeurs add constraint FKx2tbdej5va57day20wxs9jfk foreign key (taches_id) references tache;